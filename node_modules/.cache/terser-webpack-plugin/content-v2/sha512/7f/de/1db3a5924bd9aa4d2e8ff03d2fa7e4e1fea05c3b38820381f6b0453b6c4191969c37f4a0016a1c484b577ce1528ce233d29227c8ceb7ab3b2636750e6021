{"map":"{\"version\":3,\"sources\":[\"server.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"BINARY_TYPES\",\"GUID\",\"kStatusCode\",\"kWebSocket\",\"EMPTY_BUFFER\",\"Buffer\",\"alloc\",\"NOOP\",\"zlib\",\"bufferUtil\",\"Limiter\",\"TRAILER\",\"from\",\"kPerMessageDeflate\",\"kTotalLength\",\"kCallback\",\"kBuffers\",\"kError\",\"zlibLimiter\",\"deflateOnData\",\"chunk\",\"this\",\"push\",\"length\",\"inflateOnData\",\"_maxPayload\",\"RangeError\",\"removeListener\",\"reset\",\"inflateOnError\",\"err\",\"_inflate\",\"[object Object]\",\"options\",\"isServer\",\"maxPayload\",\"_options\",\"_threshold\",\"undefined\",\"threshold\",\"_isServer\",\"_deflate\",\"params\",\"concurrency\",\"concurrencyLimit\",\"extensionName\",\"serverNoContextTakeover\",\"server_no_context_takeover\",\"clientNoContextTakeover\",\"client_no_context_takeover\",\"serverMaxWindowBits\",\"server_max_window_bits\",\"clientMaxWindowBits\",\"client_max_window_bits\",\"configurations\",\"normalizeParams\",\"acceptAsServer\",\"acceptAsClient\",\"close\",\"callback\",\"Error\",\"offers\",\"opts\",\"accepted\",\"find\",\"response\",\"forEach\",\"keys\",\"num\",\"Number\",\"isInteger\",\"TypeError\",\"data\",\"fin\",\"add\",\"done\",\"_decompress\",\"result\",\"_compress\",\"endpoint\",\"windowBits\",\"Z_DEFAULT_WINDOWBITS\",\"createInflateRaw\",\"zlibInflateOptions\",\"on\",\"write\",\"flush\",\"concat\",\"createDeflateRaw\",\"zlibDeflateOptions\",\"Z_SYNC_FLUSH\",\"slice\",\"list\",\"totalLength\",\"target\",\"allocUnsafe\",\"offset\",\"buf\",\"set\",\"_mask\",\"source\",\"mask\",\"output\",\"_unmask\",\"buffer\",\"toArrayBuffer\",\"byteLength\",\"byteOffset\",\"toBuffer\",\"readOnly\",\"isBuffer\",\"ArrayBuffer\",\"isView\",\"e\",\"code\",\"bu\",\"BufferUtil\",\"unmask\",\"require\",\"EventEmitter\",\"https\",\"http\",\"net\",\"tls\",\"randomBytes\",\"createHash\",\"URL\",\"PerMessageDeflate\",\"Receiver\",\"Sender\",\"addEventListener\",\"removeEventListener\",\"format\",\"parse\",\"readyStates\",\"protocolVersions\",\"WebSocket\",\"address\",\"protocols\",\"super\",\"readyState\",\"CONNECTING\",\"protocol\",\"_binaryType\",\"_closeFrameReceived\",\"_closeFrameSent\",\"_closeMessage\",\"_closeTimer\",\"_closeCode\",\"_extensions\",\"_receiver\",\"_sender\",\"_socket\",\"_bufferedAmount\",\"_redirects\",\"Array\",\"isArray\",\"join\",\"initAsClient\",\"websocket\",\"protocolVersion\",\"perMessageDeflate\",\"followRedirects\",\"maxRedirects\",\"createConnection\",\"socketPath\",\"hostname\",\"timeout\",\"method\",\"host\",\"path\",\"port\",\"includes\",\"parsedUrl\",\"url\",\"href\",\"isUnixSocket\",\"pathname\",\"isSecure\",\"defaultPort\",\"toString\",\"tlsConnect\",\"netConnect\",\"startsWith\",\"headers\",\"Sec-WebSocket-Version\",\"Sec-WebSocket-Key\",\"Connection\",\"Upgrade\",\"search\",\"handshakeTimeout\",\"offer\",\"origin\",\"Origin\",\"username\",\"password\",\"auth\",\"parts\",\"split\",\"req\",\"_req\",\"abortHandshake\",\"aborted\",\"CLOSING\",\"emit\",\"emitClose\",\"res\",\"location\",\"statusCode\",\"abort\",\"addr\",\"socket\",\"head\",\"digest\",\"update\",\"serverProt\",\"protList\",\"protError\",\"extensions\",\"accept\",\"setSocket\",\"CLOSED\",\"OPEN\",\"binaryType\",\"type\",\"bufferedAmount\",\"bufferSize\",\"_bufferedBytes\",\"receiver\",\"receiverOnConclude\",\"receiverOnDrain\",\"receiverOnError\",\"receiverOnMessage\",\"receiverOnPing\",\"receiverOnPong\",\"setTimeout\",\"setNoDelay\",\"unshift\",\"socketOnClose\",\"socketOnData\",\"socketOnEnd\",\"socketOnError\",\"cleanup\",\"removeAllListeners\",\"msg\",\"end\",\"destroy\",\"cb\",\"ping\",\"sendAfterClose\",\"pong\",\"binary\",\"compress\",\"send\",\"connect\",\"servername\",\"stream\",\"message\",\"captureStackTrace\",\"setHeader\",\"once\",\"reason\",\"resume\",\"receiverOnFinish\",\"read\",\"clearTimeout\",\"_writableState\",\"finished\",\"errorEmitted\",\"pause\",\"listeners\",\"_listener\",\"listener\",\"Writable\",\"isValidStatusCode\",\"isValidUTF8\",\"error\",\"ErrorCtor\",\"prefix\",\"_buffers\",\"_compressed\",\"_payloadLength\",\"_fragmented\",\"_masked\",\"_fin\",\"_opcode\",\"_totalPayloadLength\",\"_messageLength\",\"_fragments\",\"_state\",\"_loop\",\"encoding\",\"startLoop\",\"shift\",\"dst\",\"Uint8Array\",\"getInfo\",\"getPayloadLength16\",\"getPayloadLength64\",\"getMask\",\"getData\",\"consume\",\"compressed\",\"haveLength\",\"readUInt16BE\",\"readUInt32BE\",\"Math\",\"pow\",\"controlMessage\",\"decompress\",\"dataMessage\",\"er\",\"messageLength\",\"fragments\",\"Validation\",\"randomFillSync\",\"applyMask\",\"_firstFragment\",\"_deflating\",\"_queue\",\"merge\",\"payloadLength\",\"opcode\",\"rsv1\",\"writeUInt16BE\",\"writeUInt32BE\",\"enqueue\",\"doClose\",\"sendFrame\",\"frame\",\"doPing\",\"doPong\",\"dispatch\",\"_\",\"destroyed\",\"dequeue\",\"Reflect\",\"apply\",\"cork\",\"uncork\",\"tokenChars\",\"dest\",\"elem\",\"map\",\"extension\",\"k\",\"values\",\"v\",\"header\",\"paramName\",\"mustUnescape\",\"isEscaping\",\"inQuotes\",\"start\",\"charCodeAt\",\"SyntaxError\",\"replace\",\"token\",\"server\",\"createServer\",\"Server\",\"ws\",\"console\",\"log\",\"listen\",\"createWebSocketStream\",\"kDone\",\"kRun\",\"pending\",\"Infinity\",\"jobs\",\"job\",\"Event\",\"MessageEvent\",\"CloseEvent\",\"wasClean\",\"OpenEvent\",\"ErrorEvent\",\"EventTarget\",\"onMessage\",\"onClose\",\"onError\",\"onOpen\",\"Duplex\",\"duplexOnEnd\",\"duplexOnError\",\"listenerCount\",\"resumeOnReceiverDrain\",\"duplex\",\"autoDestroy\",\"objectMode\",\"writableObjectMode\",\"_destroy\",\"process\",\"nextTick\",\"called\",\"terminate\",\"_final\",\"_readableState\",\"endEmitted\",\"_read\",\"needDrain\",\"_write\",\"STATUS_CODES\",\"keyRegex\",\"writable\",\"Content-Type\",\"Content-Length\",\"h\",\"handleProtocols\",\"clientTracking\",\"verifyClient\",\"noServer\",\"backlog\",\"_server\",\"body\",\"writeHead\",\"_removeListeners\",\"event\",\"addListeners\",\"listening\",\"upgrade\",\"handleUpgrade\",\"clients\",\"Set\",\"client\",\"index\",\"indexOf\",\"trim\",\"version\",\"toLowerCase\",\"test\",\"shouldHandle\",\"info\",\"secure\",\"connection\",\"authorized\",\"encrypted\",\"verified\",\"completeUpgrade\",\"readable\",\"delete\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,\"a\",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p=\"\",s(s.s=12)}([function(e,t,s){\"use strict\";e.exports={BINARY_TYPES:[\"nodebuffer\",\"arraybuffer\",\"fragments\"],GUID:\"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\",kStatusCode:Symbol(\"status-code\"),kWebSocket:Symbol(\"websocket\"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t,s){\"use strict\";const i=s(18),r=s(2),n=s(19),{kStatusCode:o,NOOP:a}=s(0),c=Buffer.from([0,0,255,255]),h=Symbol(\"permessage-deflate\"),l=Symbol(\"total-length\"),d=Symbol(\"callback\"),f=Symbol(\"buffers\"),u=Symbol(\"error\");let _;function p(e){this[f].push(e),this[l]+=e.length}function m(e){this[l]+=e.length,this[h]._maxPayload<1||this[l]<=this[h]._maxPayload?this[f].push(e):(this[u]=new RangeError(\"Max payload size exceeded\"),this[u][o]=1009,this.removeListener(\"data\",m),this.reset())}function g(e){this[h]._inflate=null,e[o]=1007,this[d](e)}e.exports=class{constructor(e,t,s){if(this._maxPayload=0|s,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!_){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;_=new n(e)}}static get extensionName(){return\"permessage-deflate\"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[d];this._deflate.close(),this._deflate=null,e&&e(new Error(\"The deflate stream was closed while data was being processed\"))}}acceptAsServer(e){const t=this._options,s=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||\"number\"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||\"number\"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!s)throw new Error(\"None of the extension offers can be accepted\");return t.serverNoContextTakeover&&(s.server_no_context_takeover=!0),t.clientNoContextTakeover&&(s.client_no_context_takeover=!0),\"number\"==typeof t.serverMaxWindowBits&&(s.server_max_window_bits=t.serverMaxWindowBits),\"number\"==typeof t.clientMaxWindowBits?s.client_max_window_bits=t.clientMaxWindowBits:!0!==s.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete s.client_max_window_bits,s}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter \"client_no_context_takeover\"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||\"number\"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter \"client_max_window_bits\"')}else\"number\"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let s=e[t];if(s.length>1)throw new Error(`Parameter \"${t}\" must have only a single value`);if(s=s[0],\"client_max_window_bits\"===t){if(!0!==s){const e=+s;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter \"${t}\": ${s}`);s=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter \"${t}\": ${s}`)}else if(\"server_max_window_bits\"===t){const e=+s;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter \"${t}\": ${s}`);s=e}else{if(\"client_no_context_takeover\"!==t&&\"server_no_context_takeover\"!==t)throw new Error(`Unknown parameter \"${t}\"`);if(!0!==s)throw new TypeError(`Invalid value for parameter \"${t}\": ${s}`)}e[t]=s})}),e}decompress(e,t,s){_.add(i=>{this._decompress(e,t,(e,t)=>{i(),s(e,t)})})}compress(e,t,s){_.add(i=>{this._compress(e,t,(e,t)=>{i(),s(e,t)})})}_decompress(e,t,s){const n=this._isServer?\"client\":\"server\";if(!this._inflate){const e=n+\"_max_window_bits\",t=\"number\"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[h]=this,this._inflate[l]=0,this._inflate[f]=[],this._inflate.on(\"error\",g),this._inflate.on(\"data\",m)}this._inflate[d]=s,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{const e=this._inflate[u];if(e)return this._inflate.close(),this._inflate=null,void s(e);const i=r.concat(this._inflate[f],this._inflate[l]);t&&this.params[n+\"_no_context_takeover\"]?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[f]=[]),s(null,i)})}_compress(e,t,s){const n=this._isServer?\"server\":\"client\";if(!this._deflate){const e=n+\"_max_window_bits\",t=\"number\"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[l]=0,this._deflate[f]=[],this._deflate.on(\"error\",a),this._deflate.on(\"data\",p)}this._deflate[d]=s,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=r.concat(this._deflate[f],this._deflate[l]);t&&(e=e.slice(0,e.length-4)),this._deflate[d]=null,t&&this.params[n+\"_no_context_takeover\"]?(this._deflate.close(),this._deflate=null):(this._deflate[l]=0,this._deflate[f]=[]),s(null,e)})}}},function(e,t,s){\"use strict\";const{EMPTY_BUFFER:i}=s(0);function r(e,t){if(0===e.length)return i;if(1===e.length)return e[0];const s=Buffer.allocUnsafe(t);let r=0;for(let t=0;t<e.length;t++){const i=e[t];s.set(i,r),r+=i.length}return r<t?s.slice(0,r):s}function n(e,t,s,i,r){for(let n=0;n<r;n++)s[i+n]=e[n]^t[3&n]}function o(e,t){const s=e.length;for(let i=0;i<s;i++)e[i]^=t[3&i]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=s(!function(){var e=new Error(\"Cannot find module 'bufferutil'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),i=t.BufferUtil||t;e.exports={concat:r,mask(e,t,s,r,o){o<48?n(e,t,s,r,o):i.mask(e,t,s,r,o)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?o(e,t):i.unmask(e,t)}}}catch(t){e.exports={concat:r,mask:n,toArrayBuffer:a,toBuffer:c,unmask:o}}},function(e,t){e.exports=require(\"http\")},function(e,t){e.exports=require(\"crypto\")},function(e,t,s){\"use strict\";const i=s(6),r=s(14),n=s(3),o=s(15),a=s(16),{randomBytes:c,createHash:h}=s(4),{URL:l}=s(17),d=s(1),f=s(7),u=s(10),{BINARY_TYPES:_,EMPTY_BUFFER:p,GUID:m,kStatusCode:g,kWebSocket:y,NOOP:v}=s(0),{addEventListener:b,removeEventListener:w}=s(20),{format:S,parse:x}=s(11),{toBuffer:k}=s(2),E=[\"CONNECTING\",\"OPEN\",\"CLOSING\",\"CLOSED\"],C=[8,13];class N extends i{constructor(e,t,s){super(),this.readyState=N.CONNECTING,this.protocol=\"\",this._binaryType=_[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=\"\",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(\", \"):\"object\"==typeof t&&null!==t&&(s=t,t=void 0),function e(t,s,i,o){const a={protocolVersion:C[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...o,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!C.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${C.join(\", \")})`);let f;s instanceof l?(f=s,t.url=s.href):(f=new l(s),t.url=s);const u=\"ws+unix:\"===f.protocol;if(!(f.host||u&&f.pathname))throw new Error(\"Invalid URL: \"+t.url);const _=\"wss:\"===f.protocol||\"https:\"===f.protocol,p=_?443:80,g=c(16).toString(\"base64\"),y=_?r.get:n.get;let v;a.createConnection=_?L:O,a.defaultPort=a.defaultPort||p,a.port=f.port||p,a.host=f.hostname.startsWith(\"[\")?f.hostname.slice(1,-1):f.hostname,a.headers={\"Sec-WebSocket-Version\":a.protocolVersion,\"Sec-WebSocket-Key\":g,Connection:\"Upgrade\",Upgrade:\"websocket\",...a.headers},a.path=f.pathname+f.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(v=new d(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers[\"Sec-WebSocket-Extensions\"]=S({[d.extensionName]:v.offer()}));i&&(a.headers[\"Sec-WebSocket-Protocol\"]=i);a.origin&&(a.protocolVersion<13?a.headers[\"Sec-WebSocket-Origin\"]=a.origin:a.headers.Origin=a.origin);(f.username||f.password)&&(a.auth=`${f.username}:${f.password}`);if(u){const e=a.path.split(\":\");a.socketPath=e[0],a.path=e[1]}let b=t._req=y(a);a.timeout&&b.on(\"timeout\",()=>{T(t,b,\"Opening handshake has timed out\")});b.on(\"error\",e=>{t._req.aborted||(b=t._req=null,t.readyState=N.CLOSING,t.emit(\"error\",e),t.emitClose())}),b.on(\"response\",r=>{const n=r.headers.location,c=r.statusCode;if(n&&a.followRedirects&&c>=300&&c<400){if(++t._redirects>a.maxRedirects)return void T(t,b,\"Maximum redirects exceeded\");b.abort();const r=new l(n,s);e(t,r,i,o)}else t.emit(\"unexpected-response\",b,r)||T(t,b,\"Unexpected server response: \"+r.statusCode)}),b.on(\"upgrade\",(e,s,r)=>{if(t.emit(\"upgrade\",e),t.readyState!==N.CONNECTING)return;b=t._req=null;const n=h(\"sha1\").update(g+m).digest(\"base64\");if(e.headers[\"sec-websocket-accept\"]!==n)return void T(t,s,\"Invalid Sec-WebSocket-Accept header\");const o=e.headers[\"sec-websocket-protocol\"],c=(i||\"\").split(/, */);let l;if(!i&&o?l=\"Server sent a subprotocol but none was requested\":i&&!o?l=\"Server sent no subprotocol\":o&&!c.includes(o)&&(l=\"Server sent an invalid subprotocol\"),l)T(t,s,l);else{if(o&&(t.protocol=o),v)try{const s=x(e.headers[\"sec-websocket-extensions\"]);s[d.extensionName]&&(v.accept(s[d.extensionName]),t._extensions[d.extensionName]=v)}catch(e){return void T(t,s,\"Invalid Sec-WebSocket-Extensions header\")}t.setSocket(s,r,a.maxPayload)}})}(this,e,t,s)):this._isServer=!0}get CONNECTING(){return N.CONNECTING}get CLOSING(){return N.CLOSING}get CLOSED(){return N.CLOSED}get OPEN(){return N.OPEN}get binaryType(){return this._binaryType}set binaryType(e){_.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,s){const i=new f(this._binaryType,this._extensions,this._isServer,s);this._sender=new u(e,this._extensions),this._receiver=i,this._socket=e,i[y]=this,e[y]=this,i.on(\"conclude\",P),i.on(\"drain\",U),i.on(\"error\",I),i.on(\"message\",R),i.on(\"ping\",W),i.on(\"pong\",F),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on(\"close\",A),e.on(\"data\",D),e.on(\"end\",j),e.on(\"error\",q),this.readyState=N.OPEN,this.emit(\"open\")}emitClose(){if(!this._socket)return this.readyState=N.CLOSED,void this.emit(\"close\",this._closeCode,this._closeMessage);this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this.readyState=N.CLOSED,this.emit(\"close\",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){const e=\"WebSocket was closed before the connection was established\";return T(this,this._req,e)}this.readyState!==N.CLOSING?(this.readyState=N.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,s){if(this.readyState===N.CONNECTING)throw new Error(\"WebSocket is not open: readyState 0 (CONNECTING)\");\"function\"==typeof e?(s=e,e=t=void 0):\"function\"==typeof t&&(s=t,t=void 0),\"number\"==typeof e&&(e=e.toString()),this.readyState===N.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||p,t,s)):B(this,e,s)}pong(e,t,s){if(this.readyState===N.CONNECTING)throw new Error(\"WebSocket is not open: readyState 0 (CONNECTING)\");\"function\"==typeof e?(s=e,e=t=void 0):\"function\"==typeof t&&(s=t,t=void 0),\"number\"==typeof e&&(e=e.toString()),this.readyState===N.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||p,t,s)):B(this,e,s)}send(e,t,s){if(this.readyState===N.CONNECTING)throw new Error(\"WebSocket is not open: readyState 0 (CONNECTING)\");if(\"function\"==typeof t&&(s=t,t={}),\"number\"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN)return void B(this,e,s);const i={binary:\"string\"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(i.compress=!1),this._sender.send(e||p,i,s)}terminate(){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){const e=\"WebSocket was closed before the connection was established\";return T(this,this._req,e)}this._socket&&(this.readyState=N.CLOSING,this._socket.destroy())}}}function O(e){return e.path=e.socketPath,o.connect(e)}function L(e){return e.path=void 0,e.servername||\"\"===e.servername||(e.servername=e.host),a.connect(e)}function T(e,t,s){e.readyState=N.CLOSING;const i=new Error(s);Error.captureStackTrace(i,T),t.setHeader?(t.abort(),t.once(\"abort\",e.emitClose.bind(e)),e.emit(\"error\",i)):(t.destroy(i),t.once(\"error\",e.emit.bind(e,\"error\")),t.once(\"close\",e.emitClose.bind(e)))}function B(e,t,s){if(t){const s=k(t).length;e._socket?e._sender._bufferedBytes+=s:e._bufferedAmount+=s}if(s){s(new Error(`WebSocket is not open: readyState ${e.readyState} (${E[e.readyState]})`))}}function P(e,t){const s=this[y];s._socket.removeListener(\"data\",D),s._socket.resume(),s._closeFrameReceived=!0,s._closeMessage=t,s._closeCode=e,1005===e?s.close():s.close(e,t)}function U(){this[y]._socket.resume()}function I(e){const t=this[y];t._socket.removeListener(\"data\",D),t.readyState=N.CLOSING,t._closeCode=e[g],t.emit(\"error\",e),t._socket.destroy()}function M(){this[y].emitClose()}function R(e){this[y].emit(\"message\",e)}function W(e){const t=this[y];t.pong(e,!t._isServer,v),t.emit(\"ping\",e)}function F(e){this[y].emit(\"pong\",e)}function A(){const e=this[y];this.removeListener(\"close\",A),this.removeListener(\"end\",j),e.readyState=N.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener(\"data\",D),this[y]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on(\"error\",M),e._receiver.on(\"finish\",M))}function D(e){this[y]._receiver.write(e)||this.pause()}function j(){const e=this[y];e.readyState=N.CLOSING,e._receiver.end(),this.end()}function q(){const e=this[y];this.removeListener(\"error\",q),this.on(\"error\",v),e&&(e.readyState=N.CLOSING,this.destroy())}E.forEach((e,t)=>{N[e]=t}),[\"open\",\"error\",\"close\",\"message\"].forEach(e=>{Object.defineProperty(N.prototype,\"on\"+e,{get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const s=this.listeners(e);for(let t=0;t<s.length;t++)s[t]._listener&&this.removeListener(e,s[t]);this.addEventListener(e,t)}})}),N.prototype.addEventListener=b,N.prototype.removeEventListener=w,e.exports=N},function(e,t){e.exports=require(\"events\")},function(e,t,s){\"use strict\";const{Writable:i}=s(8),r=s(1),{BINARY_TYPES:n,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:c}=s(0),{concat:h,toArrayBuffer:l,unmask:d}=s(2),{isValidStatusCode:f,isValidUTF8:u}=s(9);function _(e,t,s,i){const r=new e(s?\"Invalid WebSocket frame: \"+t:t);return Error.captureStackTrace(r,_),r[a]=i,r}e.exports=class extends i{constructor(e,t,s,i){super(),this._binaryType=e||n[0],this[c]=void 0,this._extensions=t||{},this._isServer=!!s,this._maxPayload=0|i,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,s){if(8===this._opcode&&0==this._state)return s();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(s)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const s=this._buffers[0],i=t.length-e;e>=s.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(s.buffer,s.byteOffset,e),i),this._buffers[0]=s.slice(e)),e-=s.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,_(RangeError,\"RSV2 and RSV3 must be clear\",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[r.extensionName])return this._loop=!1,_(RangeError,\"RSV1 must be clear\",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,_(RangeError,\"RSV1 must be clear\",!0,1002);if(!this._fragmented)return this._loop=!1,_(RangeError,\"invalid opcode 0\",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,_(RangeError,\"invalid opcode \"+this._opcode,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,_(RangeError,\"invalid opcode \"+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,_(RangeError,\"FIN must be set\",!0,1002);if(t)return this._loop=!1,_(RangeError,\"RSV1 must be clear\",!0,1002);if(this._payloadLength>125)return this._loop=!1,_(RangeError,\"invalid payload length \"+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,_(RangeError,\"MASK must be set\",!0,1002)}else if(this._masked)return this._loop=!1,_(RangeError,\"MASK must be clear\",!0,1002);if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,_(RangeError,\"Unsupported WebSocket frame: payload length > 2^53 - 1\",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,_(RangeError,\"Max payload size exceeded\",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&d(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[r.extensionName].decompress(e,this._fin,(e,s)=>{if(e)return t(e);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(_(RangeError,\"Max payload size exceeded\",!1,1009));this._fragments.push(s)}const i=this.dataMessage();if(i)return t(i);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let s;s=\"nodebuffer\"===this._binaryType?h(t,e):\"arraybuffer\"===this._binaryType?l(h(t,e)):t,this.emit(\"message\",s)}else{const s=h(t,e);if(!u(s))return this._loop=!1,_(Error,\"invalid UTF-8 sequence\",!0,1007);this.emit(\"message\",s.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit(\"conclude\",1005,\"\"),this.end();else{if(1===e.length)return _(RangeError,\"invalid payload length 1\",!0,1002);{const t=e.readUInt16BE(0);if(!f(t))return _(RangeError,\"invalid status code \"+t,!0,1002);const s=e.slice(2);if(!u(s))return _(Error,\"invalid UTF-8 sequence\",!0,1007);this.emit(\"conclude\",t,s.toString()),this.end()}}else 9===this._opcode?this.emit(\"ping\",e):this.emit(\"pong\",e);this._state=0}}},function(e,t){e.exports=require(\"stream\")},function(e,t,s){\"use strict\";try{const e=s(!function(){var e=new Error(\"Cannot find module 'utf-8-validate'\");throw e.code=\"MODULE_NOT_FOUND\",e}());t.isValidUTF8=\"object\"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,s){\"use strict\";const{randomFillSync:i}=s(4),r=s(1),{EMPTY_BUFFER:n}=s(0),{isValidStatusCode:o}=s(9),{mask:a,toBuffer:c}=s(2),h=Buffer.alloc(4);class l{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const s=t.mask&&t.readOnly;let r=t.mask?6:2,n=e.length;e.length>=65536?(r+=8,n=127):e.length>125&&(r+=2,n=126);const o=Buffer.allocUnsafe(s?e.length+r:r);return o[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(o[0]|=64),o[1]=n,126===n?o.writeUInt16BE(e.length,2):127===n&&(o.writeUInt32BE(0,2),o.writeUInt32BE(e.length,6)),t.mask?(i(h,0,4),o[1]|=128,o[r-4]=h[0],o[r-3]=h[1],o[r-2]=h[2],o[r-1]=h[3],s?(a(e,h,o,r,e.length),[o]):(a(e,h,e,0,e.length),[o,e])):[o,e]}close(e,t,s,i){let r;if(void 0===e)r=n;else{if(\"number\"!=typeof e||!o(e))throw new TypeError(\"First argument must be a valid error code number\");if(void 0===t||\"\"===t)r=Buffer.allocUnsafe(2),r.writeUInt16BE(e,0);else{const s=Buffer.byteLength(t);if(s>123)throw new RangeError(\"The message must not be greater than 123 bytes\");r=Buffer.allocUnsafe(2+s),r.writeUInt16BE(e,0),r.write(t,2)}}this._deflating?this.enqueue([this.doClose,r,s,i]):this.doClose(r,s,i)}doClose(e,t,s){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),s)}ping(e,t,s){const i=c(e);if(i.length>125)throw new RangeError(\"The data size must not be greater than 125 bytes\");this._deflating?this.enqueue([this.doPing,i,t,c.readOnly,s]):this.doPing(i,t,c.readOnly,s)}doPing(e,t,s,i){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:s}),i)}pong(e,t,s){const i=c(e);if(i.length>125)throw new RangeError(\"The data size must not be greater than 125 bytes\");this._deflating?this.enqueue([this.doPong,i,t,c.readOnly,s]):this.doPong(i,t,c.readOnly,s)}doPong(e,t,s,i){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:s}),i)}send(e,t,s){const i=c(e),n=this._extensions[r.extensionName];let o=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&n&&(a=i.length>=n._threshold),this._compress=a):(a=!1,o=0),t.fin&&(this._firstFragment=!0),n){const e={fin:t.fin,rsv1:a,opcode:o,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,i,this._compress,e,s]):this.dispatch(i,this._compress,e,s)}else this.sendFrame(l.frame(i,{fin:t.fin,rsv1:!1,opcode:o,mask:t.mask,readOnly:c.readOnly}),s)}dispatch(e,t,s,i){if(!t)return void this.sendFrame(l.frame(e,s),i);const n=this._extensions[r.extensionName];this._deflating=!0,n.compress(e,s.fin,(e,t)=>{if(this._socket.destroyed){const e=new Error(\"The socket was closed while data was being compressed\");\"function\"==typeof i&&i(e);for(let t=0;t<this._queue.length;t++){const s=this._queue[t][4];\"function\"==typeof s&&s(e)}}else this._deflating=!1,s.readOnly=!1,this.sendFrame(l.frame(t,s),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=l},function(e,t,s){\"use strict\";const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(e,t,s){void 0===e[t]?e[t]=[s]:e[t].push(s)}e.exports={format:function(e){return Object.keys(e).map(t=>{let s=e[t];return Array.isArray(s)||(s=[s]),s.map(e=>[t].concat(Object.keys(e).map(t=>{let s=e[t];return Array.isArray(s)||(s=[s]),s.map(e=>!0===e?t:`${t}=${e}`).join(\"; \")})).join(\"; \")).join(\", \")}).join(\", \")},parse:function(e){const t=Object.create(null);if(void 0===e||\"\"===e)return t;let s,n,o=Object.create(null),a=!1,c=!1,h=!1,l=-1,d=-1,f=0;for(;f<e.length;f++){const u=e.charCodeAt(f);if(void 0===s)if(-1===d&&1===i[u])-1===l&&(l=f);else if(32===u||9===u)-1===d&&-1!==l&&(d=f);else{if(59!==u&&44!==u)throw new SyntaxError(\"Unexpected character at index \"+f);{if(-1===l)throw new SyntaxError(\"Unexpected character at index \"+f);-1===d&&(d=f);const i=e.slice(l,d);44===u?(r(t,i,o),o=Object.create(null)):s=i,l=d=-1}}else if(void 0===n)if(-1===d&&1===i[u])-1===l&&(l=f);else if(32===u||9===u)-1===d&&-1!==l&&(d=f);else if(59===u||44===u){if(-1===l)throw new SyntaxError(\"Unexpected character at index \"+f);-1===d&&(d=f),r(o,e.slice(l,d),!0),44===u&&(r(t,s,o),o=Object.create(null),s=void 0),l=d=-1}else{if(61!==u||-1===l||-1!==d)throw new SyntaxError(\"Unexpected character at index \"+f);n=e.slice(l,f),l=d=-1}else if(c){if(1!==i[u])throw new SyntaxError(\"Unexpected character at index \"+f);-1===l?l=f:a||(a=!0),c=!1}else if(h)if(1===i[u])-1===l&&(l=f);else if(34===u&&-1!==l)h=!1,d=f;else{if(92!==u)throw new SyntaxError(\"Unexpected character at index \"+f);c=!0}else if(34===u&&61===e.charCodeAt(f-1))h=!0;else if(-1===d&&1===i[u])-1===l&&(l=f);else if(-1===l||32!==u&&9!==u){if(59!==u&&44!==u)throw new SyntaxError(\"Unexpected character at index \"+f);{if(-1===l)throw new SyntaxError(\"Unexpected character at index \"+f);-1===d&&(d=f);let i=e.slice(l,d);a&&(i=i.replace(/\\\\/g,\"\"),a=!1),r(o,n,i),44===u&&(r(t,s,o),o=Object.create(null),s=void 0),n=void 0,l=d=-1}}else-1===d&&(d=f)}if(-1===l||h)throw new SyntaxError(\"Unexpected end of input\");-1===d&&(d=f);const u=e.slice(l,d);return void 0===s?r(t,u,o):(void 0===n?r(o,u,!0):r(o,n,a?u.replace(/\\\\/g,\"\"):u),r(t,s,o)),t}}},function(e,t,s){\"use strict\";t.__esModule=!0;var i=s(3),r=s(13),n=i.createServer((function(e,t){t.end(\"I'm connected\")}));new r.Server({server:n}).on(\"connection\",(function(e){e.on(\"message\",(function(e){console.log(\"received: %s\",e)})),e.send(\"something\")})),n.listen(8080)},function(e,t,s){\"use strict\";const i=s(5);i.createWebSocketStream=s(21),i.Server=s(22),i.Receiver=s(7),i.Sender=s(10),e.exports=i},function(e,t){e.exports=require(\"https\")},function(e,t){e.exports=require(\"net\")},function(e,t){e.exports=require(\"tls\")},function(e,t){e.exports=require(\"url\")},function(e,t){e.exports=require(\"zlib\")},function(e,t,s){\"use strict\";const i=Symbol(\"kDone\"),r=Symbol(\"kRun\");e.exports=class{constructor(e){this[i]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[i])}}}},function(e,t,s){\"use strict\";class i{constructor(e,t){this.target=t,this.type=e}}class r extends i{constructor(e,t){super(\"message\",t),this.data=e}}class n extends i{constructor(e,t,s){super(\"close\",s),this.wasClean=s._closeFrameReceived&&s._closeFrameSent,this.reason=t,this.code=e}}class o extends i{constructor(e){super(\"open\",e)}}class a extends i{constructor(e,t){super(\"error\",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t,s){if(\"function\"!=typeof t)return;function i(e){t.call(this,new r(e,this))}function c(e,s){t.call(this,new n(e,s,this))}function h(e){t.call(this,new a(e,this))}function l(){t.call(this,new o(this))}const d=s&&s.once?\"once\":\"on\";\"message\"===e?(i._listener=t,this[d](e,i)):\"close\"===e?(c._listener=t,this[d](e,c)):\"error\"===e?(h._listener=t,this[d](e,h)):\"open\"===e?(l._listener=t,this[d](e,l)):this[d](e,t)},removeEventListener(e,t){const s=this.listeners(e);for(let i=0;i<s.length;i++)s[i]!==t&&s[i]._listener!==t||this.removeListener(e,s[i])}};e.exports=c},function(e,t,s){\"use strict\";const{Duplex:i}=s(8);function r(e){e.emit(\"close\")}function n(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener(\"error\",o),this.destroy(),0===this.listenerCount(\"error\")&&this.emit(\"error\",e)}e.exports=function(e,t){let s=!0;function a(){s&&e._socket.resume()}e.readyState===e.CONNECTING?e.once(\"open\",(function(){e._receiver.removeAllListeners(\"drain\"),e._receiver.on(\"drain\",a)})):(e._receiver.removeAllListeners(\"drain\"),e._receiver.on(\"drain\",a));const c=new i({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on(\"message\",(function(t){c.push(t)||(s=!1,e._socket.pause())})),e.once(\"error\",(function(e){c.destroyed||c.destroy(e)})),e.once(\"close\",(function(){c.destroyed||c.push(null)})),c._destroy=function(t,s){if(e.readyState===e.CLOSED)return s(t),void process.nextTick(r,c);let i=!1;e.once(\"error\",(function(e){i=!0,s(e)})),e.once(\"close\",(function(){i||s(t),process.nextTick(r,c)})),e.terminate()},c._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),c._readableState.endEmitted&&c.destroy()):(e._socket.once(\"finish\",(function(){t()})),e.close())):e.once(\"open\",(function(){c._final(t)}))},c._read=function(){e.readyState!==e.OPEN||s||(s=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,s,i){e.readyState!==e.CONNECTING?e.send(t,i):e.once(\"open\",(function(){c._write(t,s,i)}))},c.on(\"end\",n),c.on(\"error\",o),c}},function(e,t,s){\"use strict\";const i=s(6),{createHash:r}=s(4),{createServer:n,STATUS_CODES:o}=s(3),a=s(1),c=s(5),{format:h,parse:l}=s(11),{GUID:d,kWebSocket:f}=s(0),u=/^[+/0-9A-Za-z]{22}==$/;function _(e){e.emit(\"close\")}function p(){this.destroy()}function m(e,t,s,i){e.writable&&(s=s||o[t],i={Connection:\"close\",\"Content-Type\":\"text/html\",\"Content-Length\":Buffer.byteLength(s),...i},e.write(`HTTP/1.1 ${t} ${o[t]}\\r\\n`+Object.keys(i).map(e=>`${e}: ${i[e]}`).join(\"\\r\\n\")+\"\\r\\n\\r\\n\"+s)),e.removeListener(\"error\",p),e.destroy()}e.exports=class extends i{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the \"port\", \"server\", or \"noServer\" options must be specified');null!=e.port?(this._server=n((e,t)=>{const s=o[426];t.writeHead(426,{\"Content-Length\":s.length,\"Content-Type\":\"text/plain\"}),t.end(s)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._removeListeners=function(e,t){for(const s of Object.keys(t))e.on(s,t[s]);return function(){for(const s of Object.keys(t))e.removeListener(s,t[s])}}(this._server,{listening:this.emit.bind(this,\"listening\"),error:this.emit.bind(this,\"error\"),upgrade:(e,t,s)=>{this.handleUpgrade(e,t,s,t=>{this.emit(\"connection\",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in \"noServer\" mode');return this._server?this._server.address():null}close(e){if(e&&this.once(\"close\",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(()=>this.emit(\"close\")):process.nextTick(_,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf(\"?\");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,s,i){t.on(\"error\",p);const r=void 0!==e.headers[\"sec-websocket-key\"]&&e.headers[\"sec-websocket-key\"].trim(),n=+e.headers[\"sec-websocket-version\"],o={};if(\"GET\"!==e.method||\"websocket\"!==e.headers.upgrade.toLowerCase()||!r||!u.test(r)||8!==n&&13!==n||!this.shouldHandle(e))return m(t,400);if(this.options.perMessageDeflate){const s=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=l(e.headers[\"sec-websocket-extensions\"]);t[a.extensionName]&&(s.accept(t[a.extensionName]),o[a.extensionName]=s)}catch(e){return m(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[\"\"+(8===n?\"sec-websocket-origin\":\"origin\")],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(n,a,c,h)=>{if(!n)return m(t,a||401,c,h);this.completeUpgrade(r,o,e,t,s,i)});if(!this.options.verifyClient(a))return m(t,401)}this.completeUpgrade(r,o,e,t,s,i)}completeUpgrade(e,t,s,i,n,o){if(!i.readable||!i.writable)return i.destroy();if(i[f])throw new Error(\"server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration\");const l=[\"HTTP/1.1 101 Switching Protocols\",\"Upgrade: websocket\",\"Connection: Upgrade\",\"Sec-WebSocket-Accept: \"+r(\"sha1\").update(e+d).digest(\"base64\")],u=new c(null);let _=s.headers[\"sec-websocket-protocol\"];if(_&&(_=_.trim().split(/ *, */),_=this.options.handleProtocols?this.options.handleProtocols(_,s):_[0],_&&(l.push(\"Sec-WebSocket-Protocol: \"+_),u.protocol=_)),t[a.extensionName]){const e=t[a.extensionName].params,s=h({[a.extensionName]:[e]});l.push(\"Sec-WebSocket-Extensions: \"+s),u._extensions=t}this.emit(\"headers\",l,s),i.write(l.concat(\"\\r\\n\").join(\"\\r\\n\")),i.removeListener(\"error\",p),u.setSocket(i,n,this.options.maxPayload),this.clients&&(this.clients.add(u),u.on(\"close\",()=>this.clients.delete(u))),o(u)}}}]);","extractedComments":[]}